<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashCards - FortiGate</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: slideDown 0.6s ease-out;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.85;
            letter-spacing: 0.5px;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stats {
            background: rgba(255, 255, 255, 0.08);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats span {
            font-weight: 700;
            font-size: 1.3rem;
            color: #fbbf24;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
            border-radius: 10px;
            transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
        }

        .card-inner {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex: 1;
        }

        .card-number {
            font-size: 0.8rem;
            color: #667eea;
            font-weight: 800;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .series-badge {
            display: inline-block;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #1f2937;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.2);
        }

        .card-label {
            font-size: 0.85rem;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .card-content {
            font-size: 1.35rem;
            color: #1f2937;
            line-height: 1.7;
            word-wrap: break-word;
            max-height: 180px;
            overflow-y: auto;
            font-weight: 500;
        }

        .card-content::-webkit-scrollbar {
            width: 6px;
        }

        .card-content::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 10px;
        }

        .card-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .flip-hint {
            font-size: 0.8rem;
            color: #999;
            margin-top: 20px;
            font-style: italic;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        button {
            padding: 13px 28px;
            font-size: 0.95rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-prev, .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
            min-width: 120px;
        }

        .btn-prev:hover, .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-prev:disabled, .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-shuffle {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #1f2937;
            flex: 1;
            min-width: 120px;
        }

        .btn-shuffle:hover {
            transform: translateY(-2px) rotate(5deg);
            box-shadow: 0 6px 25px rgba(251, 191, 36, 0.4);
        }

        .btn-reset {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            flex: 1;
            min-width: 120px;
        }

        .btn-reset:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(239, 68, 68, 0.4);
        }

        .flip-animation {
            animation: flip 0.3s ease;
        }

        @keyframes flip {
            0% { transform: rotateY(0deg); }
            50% { transform: rotateY(90deg); }
            100% { transform: rotateY(0deg); }
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
            max-width: 550px;
            width: 90%;
            animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-content h2 {
            color: #1f2937;
            margin-bottom: 30px;
            font-size: 2rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
        }

        .mode-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn-mode {
            padding: 18px 30px;
            font-size: 1.05rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-mode-random {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-mode-random:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
        }

        .btn-mode-exercise {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
        }

        .btn-mode-exercise:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(6, 182, 212, 0.3);
        }

        .exercise-info {
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(102, 126, 234, 0.1) 100%);
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            font-size: 0.95rem;
            color: #374151;
            border: 1px solid rgba(102, 126, 234, 0.2);
            line-height: 1.6;
        }

        .exercise-series {
            color: #667eea;
            font-weight: 700;
        }

        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            gap: 12px;
            margin-top: 25px;
            max-height: 450px;
            overflow-y: auto;
        }

        .chapters-grid::-webkit-scrollbar {
            width: 6px;
        }

        .chapters-grid::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 10px;
        }

        .chapters-grid::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .chapter-btn {
            padding: 18px 10px;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border: 2px solid #d1d5db;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            color: #374151;
            font-family: 'Inter', sans-serif;
        }

        .chapter-btn:hover {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }

        .chapter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .modal-section {
            display: none;
        }

        .modal-section.active {
            display: block;
        }

        .back-btn {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            margin-top: 25px;
            width: 100%;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(107, 114, 128, 0.3);
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2.5rem; }
            .card { padding: 35px 25px; min-height: 320px; }
            .card-content { font-size: 1.2rem; }
            .modal-content { padding: 40px 30px; }
            button { padding: 11px 24px; font-size: 0.9rem; }
        }

        @media (max-width: 600px) {
            .header h1 { font-size: 2rem; }
            .card { padding: 30px 20px; min-height: 280px; }
            .card-content { font-size: 1.05rem; }
            .controls { gap: 12px; }
            button { padding: 10px 18px; font-size: 0.85rem; min-width: 100px; }
            .modal-content { padding: 30px 20px; }
            .modal-content h2 { font-size: 1.5rem; }
            .chapters-grid { grid-template-columns: repeat(auto-fit, minmax(70px, 1fr)); gap: 8px; }
            .chapter-btn { padding: 12px 8px; font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö FlashCards</h1>
            <p>FortiGate & Cybers√©curit√©</p>
        </div>

        <div class="stats">
            Carte <span id="current">1</span> / <span id="total">0</span>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="card" id="card" onclick="toggleCard()">
            <div class="card-inner">
                <div class="series-badge" id="seriesBadge" style="display: none;"></div>
                <div class="card-number" id="cardNumber"></div>
                <div class="card-label" id="cardLabel">Question</div>
                <div class="card-content" id="cardContent"></div>
                <div class="flip-hint" id="flipHint">Cliquez pour voir la r√©ponse</div>
            </div>
        </div>

        <div class="controls">
            <button class="btn-prev" id="btnPrev" onclick="previousCard()">‚Üê Pr√©c√©dent</button>
            <button class="btn-shuffle" onclick="toggleMode()">üîÄ Changer mode</button>
            <button class="btn-next" id="btnNext" onclick="nextCard()">Suivant ‚Üí</button>
        </div>

        <div class="controls">
            <button class="btn-reset" onclick="logout()">üîì D√©connexion</button>
        </div>
    </div>

    <div class="modal show" id="modeModal">
        <div class="modal-content">
            <div class="modal-section active" id="modeSelection">
                <h2>Choisir le mode</h2>
                <div class="mode-buttons">
                    <button class="btn-mode btn-mode-random" onclick="startRandomMode()">
                        üé≤ Mode Al√©atoire
                    </button>
                    <button class="btn-mode btn-mode-exercise" onclick="showChapterSelection()">
                        üìù Mode Exercices
                    </button>
                </div>
                <div class="exercise-info">
                    <p><strong>Mode Al√©atoire :</strong> Les cartes sont m√©lang√©es al√©atoirement</p>
                    <p style="margin-top: 10px;"><strong>Mode Exercices :</strong> Choisissez un <span class="exercise-series">chapitre (10 questions)</span> et exercez-vous</p>
                </div>
            </div>

            <div class="modal-section" id="chapterSelection">
                <h2>Choisir un chapitre</h2>
                <p style="color: #666; margin-bottom: 20px;">10 questions par chapitre</p>
                <div class="chapters-grid" id="chaptersContainer"></div>
                <button class="btn-mode back-btn" onclick="backToModeSelection()">‚Üê Retour</button>
            </div>
        </div>
    </div>

    <script>
        const flashcards = [
            {
                question: "Citez les trois m√©thodes principales d'authentification des utilisateurs disponibles sur un FortiGate.",
                answer: "Authentification locale (login/mdp), authentification via serveur distant (LDAP, RADIUS, etc.) et authentification √† deux facteurs (2FA/MFA)."
            },
            {
                question: "Quelles sont les trois m√©thodes que l'on peut utiliser comme deuxi√®me facteur pour l'authentification sur un FortiGate ?",
                answer: "FortiToken (mat√©riel ou mobile), OTP via SMS ou e-mail, et les applications TOTP comme Google/Microsoft Authenticator."
            },
            {
                question: "En authentification FortiGate, qu'est-ce que la m√©thode 'active' ?",
                answer: "Une m√©thode o√π l'utilisateur doit saisir manuellement ses identifiants via une invite de connexion pour obtenir un acc√®s."
            },
            {
                question: "En authentification FortiGate, qu'est-ce que la m√©thode 'passive' ?",
                answer: "Un processus transparent o√π les identifiants de l'utilisateur sont d√©termin√©s automatiquement par le pare-feu sans saisie manuelle."
            },
            {
                question: "Si les m√©thodes d'authentification active et passive sont activ√©es simultan√©ment sur un FortiGate, laquelle est utilis√©e en priorit√© ?",
                answer: "L'authentification passive est prioritaire, et l'active est utilis√©e comme m√©thode de secours (backup)."
            },
            {
                question: "Quels sont les quatre types de groupes d'utilisateurs sur un FortiGate ?",
                answer: "Firewall, Guest, Fortinet Single Sign-On (FSSO) et RADIUS Single Sign-On (RSSO)."
            },
            {
                question: "Pourquoi est-il parfois n√©cessaire d'autoriser le service HTTP dans les r√®gles de pare-feu utilisant l'authentification ?",
                answer: "Pour permettre la redirection de l'utilisateur vers le portail captif d'authentification."
            },
            {
                question: "Pourquoi est-il parfois n√©cessaire d'autoriser le service DNS dans les r√®gles de pare-feu utilisant l'authentification ?",
                answer: "Pour permettre la r√©solution des noms de domaine n√©cessaires √† l'authentification ou √† la navigation avant que celle-ci ne soit compl√®te."
            },
            {
                question: "Qu'est-ce qu'un portail captif ?",
                answer: "Une page web utilis√©e pour l'authentification active des utilisateurs, qui peut √©galement afficher des conditions d'utilisation."
            },
            {
                question: "Pourquoi doit-on exempter certains p√©riph√©riques, comme les imprimantes ou les objets IoT, de l'authentification par portail captif ?",
                answer: "Car ces appareils ne disposent pas d'interface pour r√©aliser une authentification active; une authentification passive doit √™tre utilis√©e pour eux."
            },
            {
                question: "Citez une m√©thode pour garantir que l'authentification active des utilisateurs soit appliqu√©e au trafic.",
                answer: "Activer l'authentification dans chaque r√®gle de pare-feu qui pourrait correspondre au trafic de l'utilisateur."
            },
            {
                question: "Quelle commande CLI emp√™che le FortiGate de passer √† la r√®gle de pare-feu suivante si l'authentification est requise ?",
                answer: "L'option d'authentification √† la demande (config user setting ‚Üí set auth-on-demand always)."
            },
            {
                question: "Citez l'un des trois principaux avantages de la journalisation (logging) sur un FortiGate.",
                answer: "Elle apporte de la visibilit√© sur les activit√©s du r√©seau, facilite l'√©tablissement d'une baseline, ou assure la tra√ßabilit√© des √©v√©nements critiques."
            },
            {
                question: "Quel est le principal inconv√©nient de l'utilisation de la journalisation sur un pare-feu ?",
                answer: "Elle consomme des ressources syst√®me (CPU, m√©moire, disque)."
            },
            {
                question: "O√π peut-on stocker les journaux g√©n√©r√©s par un FortiGate ?",
                answer: "Sur le disque dur local du FortiGate ou sur un serveur distant (comme FortiAnalyzer, FortiManager ou un serveur Syslog)."
            },
            {
                question: "Dans la classification des logs FortiGate, quel type de journal enregistre le trafic autoris√© ou bloqu√© ?",
                answer: "Le journal de type 'Traffic' (Forward)."
            },
            {
                question: "Dans la classification des logs FortiGate, quel type de journal enregistre des informations sur les √©v√©nements syst√®me comme les logins admin ?",
                answer: "Le journal de type 'Event' et sous-type 'System'."
            },
            {
                question: "Dans la classification des logs FortiGate, quel type de journal enregistre les √©v√©nements li√©s aux fonctionnalit√©s de s√©curit√© comme l'antivirus ou l'IPS ?",
                answer: "Le journal de type 'Security' (ou UTM)."
            },
            {
                question: "Classez les niveaux de s√©v√©rit√© des journaux FortiGate du plus critique au moins critique (les 4 premiers).",
                answer: "Emergency (0), Alert (1), Critical (2), Error (3)."
            },
            {
                question: "Quel niveau de s√©v√©rit√© de log FortiGate correspond √† un 'Avertissement, une fonctionnalit√© pourrait √™tre affect√©e' (ex: espace disque faible) ?",
                answer: "Warning (Niveau 4)."
            },
            {
                question: "Dans l'exemple de log fourni, quel est l'identifiant (ID) de la r√®gle de pare-feu qui a trait√© le trafic ?",
                answer: "L'ID de la r√®gle de pare-feu est 3 (policyid=3)."
            },
            {
                question: "Dans l'exemple de log fourni, quelle action a √©t√© effectu√©e sur le paquet ?",
                answer: "Le paquet a √©t√© bloqu√© (action=\"block\")."
            },
            {
                question: "Dans l'exemple de log fourni, quelle est l'adresse IP source qui a g√©n√©r√© le trafic ?",
                answer: "L'adresse IP source est 10.1.100.22 (srcip=10.1.100.22)."
            },
            {
                question: "Citez les quatre √©l√©ments de s√©curit√© fondamentaux assur√©s par un VPN (SSL ou IPsec).",
                answer: "Authentification, Chiffrement, Int√©grit√© et Anti-rejeu."
            },
            {
                question: "En configuration VPN, quel type de pair distant est utilis√© lorsque l'adresse IP de destination est connue et fixe ?",
                answer: "Static IP Address."
            },
            {
                question: "En configuration VPN, quel type de pair distant est utilis√© lorsque l'IP de destination est dynamique mais que son nom de domaine est statique ?",
                answer: "Dynamic DNS."
            },
            {
                question: "En configuration VPN, quel type de pair distant force le FortiGate √† √™tre uniquement le r√©pondeur et est utilis√© quand l'IP du pair est dynamique et non retrouvable ?",
                answer: "Dialup."
            },
            {
                question: "Quelle topologie VPN est la moins sensible aux pannes car chaque site est directement connect√© √† tous les autres ?",
                answer: "La topologie Full Meshed."
            },
            {
                question: "Quelle topologie VPN impose une charge de travail importante au site central qui relaie tout le trafic inter-sites ?",
                answer: "La topologie Hub and Spoke."
            },
            {
                question: "Quelle est l'utilit√© de la technologie ADVPN (Auto Discovery VPN) ?",
                answer: "Elle permet de n√©gocier dynamiquement des tunnels VPN directs entre les 'spokes' d'une topologie Hub-and-Spoke."
            },
            {
                question: "Quelle est l'utilit√© de la fonctionnalit√© Xauth dans un VPN IPsec ?",
                answer: "Elle ajoute une couche d'authentification utilisateur en plus de l'authentification par cl√© pr√©-partag√©e (PSK) ou certificat."
            },
            {
                question: "Quel est le but de l'extension IPsec 'IKE Mode Configuration' ?",
                answer: "Fournir des param√®tres de configuration r√©seau (comme une adresse IP) de mani√®re dynamique aux clients VPN lors de leur connexion."
            },
            {
                question: "√Ä quoi sert la fonctionnalit√© 'Dead Peer Detection' (DPD) dans une configuration VPN ?",
                answer: "√Ä v√©rifier que le pair distant (l'autre extr√©mit√© du tunnel VPN) est toujours joignable."
            },
            {
                question: "Quel protocole de s√©curit√© est principalement utilis√© par ce qui est commun√©ment appel√© un VPN SSL ?",
                answer: "Le protocole TLS (Transport Layer Security)."
            },
            {
                question: "Dans une PKI, quelle entit√© est responsable de la g√©n√©ration des certificats apr√®s validation des demandes ?",
                answer: "L'Autorit√© de Certification (CA - Certificate Authority)."
            },
            {
                question: "Quel est le niveau de validation de certificat le plus bas, typiquement utilis√© pour les blogs ou sites personnels ?",
                answer: "Domain Validated (DV)."
            },
            {
                question: "Quel est le niveau de validation de certificat le plus √©lev√©, recommand√© pour les sites de e-commerce ?",
                answer: "Extended Validation (EV)."
            },
            {
                question: "Quel est le r√¥le d'un algorithme de cha√Ænage en cryptographie ?",
                answer: "S'assurer que des chiffrements distincts sont produits m√™me lorsque le m√™me texte est chiffr√© plusieurs fois avec la m√™me cl√©."
            },
            {
                question: "Qu'est-ce qu'une Infrastructure √† Cl√©s Publiques (PKI) ?",
                answer: "Un ensemble de technologies et proc√©dures pour g√©rer de mani√®re s√©curis√©e le cycle de vie des certificats num√©riques."
            },
            {
                question: "√Ä quoi sert le protocole OCSP (Online Certificate Status Protocol) ?",
                answer: "√Ä v√©rifier en temps r√©el la validit√© (non-r√©vocation) d'un certificat num√©rique X.509."
            },
            {
                question: "Quel est l'avantage de l'agrafage OCSP (OCSP Stapling) ?",
                answer: "Il r√©duit la latence des connexions HTTPS et am√©liore la confidentialit√© en √©vitant que le client contacte directement le r√©pondeur OCSP."
            },
            {
                question: "Quelle est la principale diff√©rence de s√©curit√© entre un VPN IPsec et un VPN SSL ?",
                answer: "La s√©curit√© d'IPsec est consid√©r√©e comme meilleure, offrant une authentification bidirectionnelle et s√©curisant toutes les communications entre les p√©riph√©riques."
            },
            {
                question: "Dans un VPN SSL FortiGate, quelle est la caract√©ristique principale du mode 'tunnel' ?",
                answer: "Il n√©cessite un client VPN et permet √† n'importe quelle application IP de transmettre des donn√©es √† travers le tunnel, connectant l'utilisateur directement au r√©seau."
            },
            {
                question: "Dans un VPN SSL FortiGate, quelle est la caract√©ristique principale du mode 'Web-only' ?",
                answer: "L'utilisateur acc√®de aux ressources via un portail web par reverse proxy, ne n√©cessitant qu'un navigateur et supportant un nombre limit√© de protocoles."
            },
            {
                question: "Que se passe-t-il avec le trafic Internet lorsque le 'split-tunneling' est activ√© pour un client VPN ?",
                answer: "Seul le trafic destin√© au r√©seau priv√© est rout√© via le tunnel VPN; le trafic vers Internet est rout√© localement par la connexion de l'utilisateur."
            },
            {
                question: "Que se passe-t-il avec le trafic Internet lorsque le 'split-tunneling' est d√©sactiv√© pour un client VPN ?",
                answer: "Tout le trafic du client, y compris le trafic Internet, est rout√© via le tunnel VPN, et le FortiGate devient la passerelle par d√©faut."
            },
            {
                question: "Quelle est la diff√©rence fondamentale entre l'analyse antivirus par signature et l'analyse heuristique ?",
                answer: "L'analyse par signature recherche des s√©quences de bits connues (malwares connus), tandis que l'analyse heuristique recherche des comportements suspects (malwares inconnus)."
            },
            {
                question: "Quel est le principe de l'analyse antivirus par 'sandbox' ?",
                answer: "Le fichier est ex√©cut√© dans un environnement de test isol√© et s√©curis√© pour analyser son comportement avant de le laisser entrer dans le r√©seau."
            },
            {
                question: "Citez une limite de l'analyse antivirus par signatures.",
                answer: "Elle ne peut bloquer que les malwares d√©j√† connus et r√©pertori√©s dans sa base de signatures."
            },
            {
                question: "Le polymorphisme est une technique d'_____ de malware.",
                answer: "obfuscation"
            },
            {
                question: "Citez une technique d'√©vasion de sandbox par un malware.",
                answer: "La d√©tection de l'environnement sandbox, la n√©cessit√© d'une action humaine, ou la fragmentation des donn√©es."
            },
            {
                question: "Dans le mode d'inspection antivirus 'flow-based' d'un FortiGate, qu'arrive-t-il aux fichiers plus grands que la m√©moire tampon ?",
                answer: "Ils ne sont pas scann√©s."
            },
            {
                question: "Quel mode d'inspection antivirus FortiGate met en cache le fichier entier avant de le transmettre √† l'utilisateur, introduisant une latence perceptible ?",
                answer: "Le mode Proxy-based full scan."
            },
            {
                question: "Quelle est l'utilit√© principale de l'inspection SSL-SSH ?",
                answer: "Elle permet de d√©chiffrer le trafic chiffr√© pour y appliquer des politiques de s√©curit√© (antivirus, filtrage web, IPS, DLP)."
            },
            {
                question: "Quelle m√©thode d'inspection SSL est plus rapide mais moins s√©curis√©e, se contentant de v√©rifier la validit√© des certificats ?",
                answer: "SSL Certificate inspection."
            },
            {
                question: "Quelle m√©thode d'inspection SSL agit comme un proxy Man-in-the-Middle pour d√©chiffrer et r√©-chiffrer le trafic ?",
                answer: "Full SSL inspection."
            },
            {
                question: "Lors de la v√©rification d'un certificat, le FortiGate v√©rifie la r√©vocation via _____ ou OCSP.",
                answer: "des listes de r√©vocation de certificats (CRL)"
            },
            {
                question: "Quelle est la diff√©rence entre un IDS (Intrusion Detection System) et un IPS (Intrusion Prevention System) ?",
                answer: "Un IDS d√©tecte passivement les intrusions et alerte, tandis qu'un IPS peut en plus bloquer activement la menace d√©tect√©e."
            },
            {
                question: "Quel type de d√©tection d'anomalies est simple et efficace pour les attaques volum√©triques comme le DoS/DDoS ?",
                answer: "La d√©tection par seuils (Thresholds)."
            },
            {
                question: "Quel type de d√©tection d'anomalies est efficace pour les menaces inconnues (zero-day) et le brute force ?",
                answer: "La d√©tection par comportement (Behavior)."
            },
            {
                question: "Qu'est-ce qu'un Web Application Firewall (WAF) ?",
                answer: "Un pare-feu qui offre une protection sp√©cialis√©e contre les attaques ciblant les serveurs et applications web, fonctionnant en mode proxy pour une analyse HTTP(S) approfondie."
            },
            {
                question: "Quel est l'int√©r√™t principal de la haute disponibilit√© (HA) ?",
                answer: "Obtenir de la redondance pour assurer la tol√©rance aux pannes et/ou la r√©partition de charge (load balancing)."
            },
            {
                question: "Quels sont les deux modes de haute disponibilit√© sur un FortiGate ?",
                answer: "Le mode actif-passif (failover uniquement) et le mode actif-actif (failover et load balancing)."
            },
            {
                question: "Dans un cluster HA FortiGate en mode actif-passif, quel est le r√¥le du FortiGate secondaire ?",
                answer: "Il synchronise sa configuration sur le primaire et surveille son √©tat pour prendre le relais en cas de d√©faillance (failover)."
            },
            {
                question: "Dans un cluster HA FortiGate en mode actif-actif, que font les appareils secondaires ?",
                answer: "Ils traitent √©galement le trafic (sont actifs), surveillent l'√©tat du primaire et l'un d'eux prend le r√¥le de primaire en cas de d√©faillance."
            },
            {
                question: "Quel protocole est utilis√© par les FortiGate pour d√©couvrir les membres d'un m√™me groupe HA, √©lire le primaire et synchroniser les configurations ?",
                answer: "Le protocole FGCP (FortiGate Clustering Protocol)."
            },
            {
                question: "Citez trois pr√©requis identiques pour tous les membres d'un cluster HA FortiGate.",
                answer: "Le m√™me firmware, le m√™me mod√®le mat√©riel (ou licence VM), et les m√™mes licences."
            },
            {
                question: "Que se passe-t-il si les membres d'un cluster HA FortiGate n'ont pas les m√™mes licences ?",
                answer: "Le cluster s'aligne sur la 'licence la plus faible', d√©sactivant les fonctionnalit√©s non pr√©sentes sur tous les membres."
            },
            {
                question: "Quel est le premier crit√®re d'√©lection du FortiGate primaire lorsque le param√®tre 'HA override' est activ√© ?",
                answer: "La priorit√© (Priority)."
            },
            {
                question: "Quel est le premier crit√®re d'√©lection du FortiGate primaire lorsque le param√®tre 'HA override' est d√©sactiv√© ?",
                answer: "Le temps de fonctionnement (Uptime)."
            },
            {
                question: "Qu'est-ce que la synchronisation des sessions dans un cluster HA ?",
                answer: "Le partage des informations de session entre les membres du cluster pour que les sessions (TCP, IPsec) puissent rester ouvertes apr√®s un basculement."
            },
            {
                question: "Le nom d'h√¥te (hostname) d'un FortiGate est-il un param√®tre synchronis√© dans un cluster HA ?",
                answer: "Non, le nom d'h√¥te est un des param√®tres qui ne sont pas synchronis√©s."
            },
            {
                question: "Citez l'une des trois causes principales pouvant mener √† un basculement (failover) dans un cluster HA.",
                answer: "Un membre mort (Dead member), une liaison d√©faillante (Failed link), ou un lien distant d√©faillant (Failed remote link)."
            },
            {
                question: "Quel est le principe fondamental du mod√®le de s√©curit√© Z√©ro Confiance (Zero Trust) ?",
                answer: "Partir du principe qu'il n'existe aucune zone de confiance : il faut toujours v√©rifier, aucune transaction n'est autoris√©e sans authentification et autorisation."
            },
            {
                question: "Selon le NIST, un des principes d'une architecture ZTA est que toutes les communications devraient √™tre _____.",
                answer: "s√©curis√©es"
            },
            {
                question: "Quelle est la particularit√© du contr√¥le d'acc√®s dans la solution Fortinet ZTNA ?",
                answer: "L'acc√®s est accord√© par session √† une application sp√©cifique, et le contr√¥le est r√©-effectu√© √† chaque nouvelle session."
            },
            {
                question: "En Fortinet ZTNA, quel composant est responsable de la configuration des r√®gles de tags et de la synchronisation avec le pare-feu ?",
                answer: "Le FortiClient EMS (Enterprise Management Server)."
            },
            {
                question: "En Fortinet ZTNA, quel composant s'enregistre aupr√®s de l'EMS et partage en permanence l'√©tat de l'appareil via la t√©l√©m√©trie ?",
                answer: "Le FortiClient."
            },
            {
                question: "Quel mode Fortinet ZTNA est utilis√© lorsque les terminaux sont physiquement situ√©s dans le r√©seau ?",
                answer: "Le mode ZTNA IP/MAC filtering."
            },
            {
                question: "Quel mode Fortinet ZTNA est utilis√© pour permettre aux utilisateurs d'acc√©der aux ressources via un proxy SSL (HTTP ou TFAP) ?",
                answer: "Le mode ZTNA access proxy."
            },
            {
                question: "Quelle est la principale diff√©rence entre le ZTNA et le VPN en termes de surface d'attaque ?",
                answer: "Le VPN √©tend le p√©rim√®tre du r√©seau √† l'utilisateur, tandis que le ZTNA n'accorde un acc√®s qu'√† des applications sp√©cifiques par session, r√©duisant la surface d'attaque."
            },
            {
                question: "Expliquez le principe du Single Sign-On (SSO).",
                answer: "Apr√®s avoir √©t√© identifi√©s une seule fois, les utilisateurs peuvent acc√©der √† diverses ressources du r√©seau sans avoir √† se r√©-authentifier."
            },
            {
                question: "Quel mode de d√©ploiement du FSSO pour Windows AD n√©cessite l'installation d'un agent sur chaque contr√¥leur de domaine ?",
                answer: "Le mode 'Domain Controller agent'."
            },
            {
                question: "Quel mode de d√©ploiement FSSO est utilis√© lorsqu'il n'est pas possible d'installer un agent sur les contr√¥leurs de domaine, mais qui g√©n√®re plus de trafic ?",
                answer: "Le mode 'Polling'."
            },
            {
                question: "Parmi les modes de polling FSSO, lequel est le plus rapide car il interroge la table des sessions en RAM du serveur AD ?",
                answer: "Le mode NetAPI polling."
            },
            {
                question: "Quel mode d'acc√®s √† l'AD pour le FSSO utilise la convention LDAP (CN, OU, DC) et supporte les groupes imbriqu√©s ?",
                answer: "Le mode d'acc√®s avanc√©."
            },
            {
                question: "Citez un des probl√®mes majeurs que la technologie SD-WAN permet de solutionner pour les entreprises.",
                answer: "Les co√ªts √©lev√©s des liaisons MPLS, le manque de flexibilit√©, la gestion complexe des WAN traditionnels, ou les d√©fis de s√©curit√©."
            },
            {
                question: "En SD-WAN, quel est le r√¥le du 'Link health Monitor' ?",
                answer: "V√©rifier l'√©tat de chaque lien membre de l'interface SD-WAN pour d√©tecter les pannes ou d√©gradations."
            },
            {
                question: "Quels sont les trois param√®tres mesur√©s par le FortiGate pour √©valuer la qualit√© d'une ligne (Link Quality Measurement) ?",
                answer: "La latence, la gigue (jitter) et le pourcentage de paquets perdus."
            },
            {
                question: "Comment les r√®gles SD-WAN sont-elles trait√©es par rapport √† la table de routage statique du FortiGate ?",
                answer: "Elles sont prioritaires par rapport aux routes de la table de routage, agissant comme des routes bas√©es sur des politiques (policy-based routes)."
            }
        ];

        let currentIndex = 0;
        let isFlipped = false;
        let originalFlashcards = [...flashcards];
        let currentMode = null;
        let currentChapter = null;
        let chapterStart = 0;
        let chapterEnd = 0;
        let totalChapters = 0;

        async function checkAuth() {
            try {
                const response = await fetch('/api/check-auth');
                const data = await response.json();
                if (!data.authenticated) {
                    window.location.href = '/';
                }
            } catch (error) {
                window.location.href = '/';
            }
        }

        async function logout() {
            try {
                await fetch('/api/logout', { method: 'POST' });
                window.location.href = '/';
            } catch (error) {
                window.location.href = '/';
            }
        }

        function initializeCards() {
            document.getElementById('total').textContent = flashcards.length;
            displayCard();
            updateButtons();
        }

        function displayCard() {
            const card = flashcards[currentIndex];
            const cardLabel = document.getElementById('cardLabel');
            const cardContent = document.getElementById('cardContent');
            const flipHint = document.getElementById('flipHint');
            const cardNumber = document.getElementById('cardNumber');
            const seriesBadge = document.getElementById('seriesBadge');

            const questionNumber = currentIndex + 1;
            cardNumber.textContent = `Question ${questionNumber}`;

            if (currentMode === 'exercise' && currentChapter !== null) {
                seriesBadge.style.display = 'inline-block';
                seriesBadge.textContent = `Chapitre ${currentChapter}/${totalChapters}`;
            } else {
                seriesBadge.style.display = 'none';
            }

            if (isFlipped) {
                cardLabel.textContent = 'R√©ponse';
                cardContent.textContent = card.answer;
                flipHint.textContent = 'Cliquez pour voir la question';
            } else {
                cardLabel.textContent = 'Question';
                cardContent.textContent = card.question;
                flipHint.textContent = 'Cliquez pour voir la r√©ponse';
            }

            document.getElementById('current').textContent = currentIndex + 1;
            updateProgressBar();
            updateButtons();
        }

        function toggleCard() {
            const cardElement = document.getElementById('card');
            cardElement.classList.add('flip-animation');
            isFlipped = !isFlipped;
            setTimeout(() => {
                displayCard();
                cardElement.classList.remove('flip-animation');
            }, 150);
        }

        function nextCard() {
            if (currentMode === 'exercise') {
                if (currentIndex < chapterEnd) {
                    currentIndex++;
                    isFlipped = false;
                    displayCard();
                }
            } else {
                if (currentIndex < flashcards.length - 1) {
                    currentIndex++;
                    isFlipped = false;
                    displayCard();
                }
            }
        }

        function previousCard() {
            if (currentMode === 'exercise') {
                if (currentIndex > chapterStart) {
                    currentIndex--;
                    isFlipped = false;
                    displayCard();
                }
            } else {
                if (currentIndex > 0) {
                    currentIndex--;
                    isFlipped = false;
                    displayCard();
                }
            }
        }

        function startRandomMode() {
            currentMode = 'random';
            flashcards.length = 0;
            flashcards.push(...originalFlashcards);
            
            let array = [...flashcards];
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            flashcards.splice(0, flashcards.length, ...array);
            
            currentIndex = 0;
            isFlipped = false;
            document.getElementById('modeModal').classList.remove('show');
            initializeCards();
        }

        function showChapterSelection() {
            totalChapters = Math.ceil(originalFlashcards.length / 10);
            const container = document.getElementById('chaptersContainer');
            container.innerHTML = '';
            
            for (let i = 1; i <= totalChapters; i++) {
                const btn = document.createElement('button');
                btn.className = 'chapter-btn';
                btn.textContent = `Chapitre ${i}`;
                btn.onclick = () => startExerciseMode(i);
                container.appendChild(btn);
            }
            
            document.getElementById('modeSelection').classList.remove('active');
            document.getElementById('chapterSelection').classList.add('active');
        }

        function backToModeSelection() {
            document.getElementById('chapterSelection').classList.remove('active');
            document.getElementById('modeSelection').classList.add('active');
        }

        function startExerciseMode(chapter) {
            currentMode = 'exercise';
            currentChapter = chapter;
            flashcards.length = 0;
            flashcards.push(...originalFlashcards);
            
            chapterStart = (chapter - 1) * 10;
            chapterEnd = Math.min(chapter * 10 - 1, flashcards.length - 1);
            
            currentIndex = chapterStart;
            isFlipped = false;
            document.getElementById('modeModal').classList.remove('show');
            initializeCards();
        }

        function toggleMode() {
            document.getElementById('modeModal').classList.add('show');
            document.getElementById('modeSelection').classList.add('active');
            document.getElementById('chapterSelection').classList.remove('active');
        }

        function updateProgressBar() {
            let progress;
            if (currentMode === 'exercise') {
                const chapterLength = chapterEnd - chapterStart + 1;
                const indexInChapter = currentIndex - chapterStart;
                progress = ((indexInChapter + 1) / chapterLength) * 100;
            } else {
                progress = ((currentIndex + 1) / flashcards.length) * 100;
            }
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function updateButtons() {
            if (currentMode === 'exercise') {
                document.getElementById('btnPrev').disabled = currentIndex <= chapterStart;
                document.getElementById('btnNext').disabled = currentIndex >= chapterEnd;
            } else {
                document.getElementById('btnPrev').disabled = currentIndex === 0;
                document.getElementById('btnNext').disabled = currentIndex === flashcards.length - 1;
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            checkAuth();
            initializeCards();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === ' ') {
                e.preventDefault();
                toggleCard();
            } else if (e.key === 'ArrowRight') {
                nextCard();
            } else if (e.key === 'ArrowLeft') {
                previousCard();
            }
        });
    </script>
</body>
</html>
